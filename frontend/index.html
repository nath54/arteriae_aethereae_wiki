<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arteriae Aethereae â€” Wiki</title>
    <meta name="description"
        content="Arteriae Aethereae â€” A medieval fantasy world wiki featuring twin planets Teria and Maria, ether magic, and the epic story of Aeron and Aeria.">
    <link rel="icon" href="../res/logo.png" type="image/png">
    <link rel="stylesheet" href="css/style.css">

    <!-- Scripts -->
    <script src="js/server_detect.js"></script>
    <script src="js/markdown.js" defer></script>
    <script src="js/data.js" defer></script>
    <script src="js/graph.js" defer></script>
    <script src="js/renderer.js" defer></script>
    <script src="js/tools.js" defer></script>
    <script src="js/page_characters.js" defer></script>
    <script src="js/page_documents.js" defer></script>
    <script src="js/page_places.js" defer></script>
    <script src="js/page_timeline.js" defer></script>
    <script src="js/router.js" defer></script>
    <script src="js/app.js" defer></script>
</head>

<body class="fantasy-theme">

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- NAVIGATION BAR (hidden on landing page)            -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <nav id="nav-bar" class="hidden">
        <div class="nav-links nav-left">
            <a href="#documents" class="nav-btn" data-page="documents">
                <span class="nav-icon">ğŸ“œ</span>
                <span class="nav-label">Story & Docs</span>
            </a>
            <a href="#characters" class="nav-btn" data-page="characters">
                <span class="nav-icon">ğŸ‘¤</span>
                <span class="nav-label">Characters</span>
            </a>
        </div>

        <a href="#" class="nav-medallion" id="nav-home-btn" title="Return to Home">
            <div class="medallion-frame">
                <img src="../res/logo.png" alt="Arteriae Aethereae" class="medallion-logo">
                <div class="medallion-shine"></div>
            </div>
        </a>

        <div class="nav-links nav-right">
            <a href="#places" class="nav-btn" data-page="places">
                <span class="nav-icon">ğŸ—ºï¸</span>
                <span class="nav-label">World & Maps</span>
            </a>
            <a href="#timeline" class="nav-btn" data-page="timeline">
                <span class="nav-icon">â³</span>
                <span class="nav-label">Timeline</span>
            </a>
        </div>
    </nav>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- LANDING PAGE                                       -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <section id="page-landing" class="page-container active">
        <div class="landing-content">
            <div class="landing-logo-wrap">
                <img src="../res/logo.png" alt="Arteriae Aethereae" class="landing-logo" id="landing-logo">
            </div>
            <h1 class="landing-title">Arteriae Aethereae</h1>
            <p class="landing-subtitle">Wiki â€” <em>Ether Arteries</em></p>

            <div class="landing-menu">
                <a href="#documents" class="menu-card" data-page="documents">
                    <div class="menu-card-icon">ğŸ“œ</div>
                    <h2 class="menu-card-title">Story & Documents</h2>
                    <p class="menu-card-desc">World rules, drafts, races, languages, countries, religions, inspirationsâ€¦
                    </p>
                </a>
                <a href="#characters" class="menu-card" data-page="characters">
                    <div class="menu-card-icon">ğŸ‘¤</div>
                    <h2 class="menu-card-title">Characters & Roles</h2>
                    <p class="menu-card-desc">Character sheets, relationships, abilities, and story arcs.</p>
                </a>
                <a href="#places" class="menu-card" data-page="places">
                    <div class="menu-card-icon">ğŸ—ºï¸</div>
                    <h2 class="menu-card-title">World & Maps</h2>
                    <p class="menu-card-desc">Planets, continents, nations, cities, and interactive maps.</p>
                </a>
                <a href="#timeline" class="menu-card" data-page="timeline">
                    <div class="menu-card-icon">â³</div>
                    <h2 class="menu-card-title">Timeline & Events</h2>
                    <p class="menu-card-desc">Chronological events across Teria and Maria.</p>
                </a>
            </div>

            <p class="landing-quote">"In the space between two worlds, where ether flows like blood through the veins of
                gods, twins awaken to their destiny."</p>
        </div>
    </section>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- DOCUMENTS PAGE                                     -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <section id="page-documents" class="page-container">
        <div class="page-header">
            <h1>ğŸ“œ Story & Documents</h1>
        </div>
        <div id="documents-content" class="page-body">
            <p class="placeholder-text">Documents page â€” coming soon.</p>
        </div>
    </section>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- CHARACTERS PAGE                                    -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <section id="page-characters" class="page-container">
        <div class="page-header">
            <h1>ğŸ‘¤ Characters, Roles & Relationships</h1>
        </div>
        <div id="characters-content" class="page-body">
            <p class="placeholder-text">Characters page â€” coming soon.</p>
        </div>
    </section>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- PLACES / MAPS PAGE                                 -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <section id="page-places" class="page-container">
        <div class="page-header">
            <h1>ğŸ—ºï¸ World, Maps & Places</h1>
        </div>
        <div id="places-content" class="page-body">
            <div id="places-sidebar" class="places-sidebar">
                <!-- Populated by page_places.js: details, icon, actions -->
            </div>
            <div id="places-grid-container" class="places-grid-container">
                <!-- Populated by page_places.js: sub-places grid -->
            </div>
        </div>

        <div id="map-create-popup" class="edit-only parchment-card" style="display: none !important;">
            <h3>Create New Map</h3>
            <div class="form-group">
                <label>Width:</label>
                <input type="number" id="map-create-w" value="1000">
            </div>
            <div class="form-group">
                <label>Height:</label>
                <input type="number" id="map-create-h" value="1000">
            </div>
            <div class="form-actions">
                <button class="tool-btn" id="btn-cancel-map-create">Cancel</button>
                <button class="tool-btn" id="btn-confirm-map-create">Create</button>
            </div>
        </div>

        <!-- Map editor sub-view (loaded on demand inside places) -->
        <div id="map-editor-overlay" class="hidden">
            <div id="map-editor-header">
                <button id="btn-close-map" class="tool-btn" title="Back to places">â† Back</button>
                <span id="map-editor-title">Map Editor</span>
            </div>
            <div id="map-editor-workspace">
                <div id="map-editor-main">
                    <svg id="map-svg" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">
                        <defs>
                            <filter id="glow">
                                <feGaussianBlur stdDeviation="2.5" result="coloredBlur" />
                                <feMerge>
                                    <feMergeNode in="coloredBlur" />
                                    <feMergeNode in="SourceGraphic" />
                                </feMerge>
                            </filter>
                        </defs>
                        <g id="map-layers">
                            <g id="layer-regions"></g>
                            <g id="layer-borders"></g>
                        </g>
                    </svg>
                </div>
                <div id="map-editor-sidebar" class="parchment-card">
                    <div class="edit-only map-tools-panel">
                        <h4>Tools</h4>
                        <div class="map-tools-grid">
                            <button class="tool-btn" data-tool="view" title="View Map" alt="View Map">â€‹ğŸ‘ï¸â€‹
                                View</button>
                            <button class="tool-btn" data-tool="move_point" title="Move Point" alt="Move Point">â€‹ğŸ‘†â€‹
                                Move</button>
                            <button class="tool-btn" data-tool="subdivide_segment" title="Subdivide" alt="Subdivide">ğŸ“â€‹
                                Subdivide</button>
                            <button class="tool-btn" data-tool="split_segment" title="Split Segment"
                                alt="Split Segment">â›“ï¸â€ğŸ’¥â€‹ Split</button>
                            <button class="tool-btn" data-tool="unsplit_segment" title="Join Areas" alt="Join Areas">ğŸ”—â€‹
                                Join</button>
                            <button class="tool-btn" data-tool="delete_point" title="Delete Point"
                                alt="Delete Point">â€‹ğŸ—‘ï¸â€‹ Delete</button>
                            <button class="tool-btn" data-tool="assign_region" title="Assign Region"
                                alt="Assign Region">â€‹ğŸ“¥â€‹ Assign</button>
                            <button class="tool-btn" data-tool="unassign_region" title="Unassign Region"
                                alt="Unassign Region">â€‹ğŸ“¤â€‹ Unassign</button>
                        </div>
                    </div>
                    <div class="map-actions-panel">
                        <button class="tool-btn" id="btn-export-svg">Export SVG</button>
                        <button class="tool-btn" id="btn-export-png">Export PNG</button>
                    </div>
                    <div id="map-editor-subplaces-list" class="map-subplaces-list">
                        <!-- Populated dynamically -->
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <!-- TIMELINE PAGE                                      -->
    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <section id="page-timeline" class="page-container">
        <div class="page-header">
            <h1>â³ Timeline & Events</h1>
        </div>
        <div id="timeline-content" class="page-body">
            <p class="placeholder-text">Timeline page â€” coming soon.</p>
        </div>
    </section>

    <!-- Right Panel: Contextual Entity Card (global overlay) -->
    <aside id="right-panel" class="hidden">
        <div id="entity-card" class="parchment-card">
            <button id="close-card" class="close-btn">&times;</button>
            <div id="card-content"></div>
        </div>
    </aside>

</body>

</html>